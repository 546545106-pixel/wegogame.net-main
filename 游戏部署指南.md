# 游戏部署指南

本指南将帮助您将zip文件中的小游戏部署到网站中。

## 方法一：使用Python脚本（推荐）

### 步骤1：运行部署脚本

1. 确保您的系统已安装Python 3.6+
2. 在项目根目录运行以下命令：

```bash
python 部署游戏.py
```

或者双击运行 `部署游戏.py` 文件（如果已配置Python关联）

### 脚本功能

脚本会自动完成以下操作：
- ✅ 解压zip文件到临时目录
- ✅ 查找所有包含HTML文件的游戏文件夹
- ✅ 将游戏复制到 `public/games/` 目录
- ✅ 自动生成游戏数据并添加到 `src/data/games.js`
- ✅ 清理临时文件

### 脚本输出

脚本会显示：
- 找到的游戏数量
- 每个游戏的部署状态
- 新增的游戏数量

## 方法二：手动部署

如果Python脚本无法运行，可以按照以下步骤手动部署：

### 步骤1：解压zip文件

1. 解压 `xixi-games.zip` 到任意临时目录
2. 查看解压后的文件夹结构

### 步骤2：复制游戏文件

1. 在项目根目录创建 `public/games/` 文件夹（如果不存在）
2. 将每个游戏文件夹复制到 `public/games/` 目录
3. 确保每个游戏文件夹包含：
   - `index.html` 或 `game.html` 或其他HTML入口文件
   - 游戏所需的资源文件（JS、CSS、图片等）

### 步骤3：添加游戏数据

编辑 `src/data/games.js` 文件，为每个新游戏添加一个条目：

```javascript
{
  id: '10001',  // 唯一ID，使用一个不重复的数字
  title: '游戏名称',
  description: '游戏描述',
  instructions: '游戏操作说明',
  url: '/games/游戏文件夹名/index.html',  // 游戏入口文件路径
  category: 'Arcade',  // 游戏分类
  tags: 'HTML5, Game',  // 标签
  thumb: 'https://img.gamemonetize.com/default/512x512.jpg',  // 缩略图URL
  link: 'game-link-name',  // URL友好的链接名称
  null: '',
  star: 3  // 星级评分（1-5）
}
```

### 步骤4：配置游戏URL

**开发环境：**
- URL格式：`http://localhost:5173/games/游戏文件夹名/index.html`

**生产环境：**
- URL格式：`https://yourdomain.com/games/游戏文件夹名/index.html`
- 或者使用相对路径：`/games/游戏文件夹名/index.html`

## 游戏URL配置说明

### 开发环境（npm run dev）

游戏URL应该使用：
```javascript
url: 'http://localhost:5173/games/游戏名/index.html'
```

### 生产环境（npm run build）

游戏URL应该使用相对路径：
```javascript
url: '/games/游戏名/index.html'
```

或者绝对路径：
```javascript
url: 'https://yourdomain.com/games/游戏名/index.html'
```

## 游戏数据结构说明

每个游戏对象包含以下字段：

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| id | string | 唯一标识符 | '10001' |
| title | string | 游戏标题 | 'My Game' |
| description | string | 游戏描述 | 'A fun puzzle game' |
| instructions | string | 操作说明 | 'Use arrow keys to move' |
| url | string | 游戏入口URL | '/games/my-game/index.html' |
| category | string | 游戏分类 | 'Arcade', 'Puzzle', 'Action' |
| tags | string | 标签（逗号分隔） | 'HTML5, Puzzle, Casual' |
| thumb | string | 缩略图URL | 'https://...' |
| link | string | URL友好名称 | 'my-game' |
| null | string | 预留字段 | '' |
| star | number | 星级评分 | 3 (1-5) |

## 常见问题

### Q1: 游戏无法加载？

**检查清单：**
- ✅ 游戏文件是否在 `public/games/` 目录下
- ✅ URL路径是否正确
- ✅ 游戏入口HTML文件是否存在
- ✅ 浏览器控制台是否有错误信息

### Q2: 如何为游戏添加缩略图？

1. 准备512x512像素的游戏缩略图
2. 将图片上传到图床或放在 `public/images/` 目录
3. 在 `games.js` 中更新 `thumb` 字段

### Q3: 游戏在开发环境正常，生产环境无法加载？

- 检查URL是否使用相对路径 `/games/...`
- 确保 `public/games/` 目录在构建时被正确复制
- 检查Vite构建配置

### Q4: 如何批量更新游戏URL？

可以使用查找替换功能：
- 查找：`http://localhost:5173/games/`
- 替换：`/games/` 或 `https://yourdomain.com/games/`

## 游戏分类建议

- **Arcade**: 街机类游戏
- **Puzzle**: 益智类游戏
- **Action**: 动作类游戏
- **Adventure**: 冒险类游戏
- **Racing**: 竞速类游戏
- **Sports**: 体育类游戏
- **Strategy**: 策略类游戏
- **Casual**: 休闲类游戏

## 下一步

部署完成后：
1. 运行 `npm run dev` 启动开发服务器
2. 访问网站查看新游戏
3. 测试每个游戏是否正常运行
4. 根据需要调整游戏信息（标题、描述、分类等）
5. 为游戏添加合适的缩略图

## 技术支持

如果遇到问题，请检查：
- 浏览器控制台的错误信息
- 网络请求是否成功
- 游戏文件路径是否正确
- 游戏HTML文件是否包含必要的资源引用

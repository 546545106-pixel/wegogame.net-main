# 批量替换游戏信息说明

## 功能说明

这个脚本用于批量替换431个游戏中的以下信息：

1. **游戏网站名称**：将 "空中传媒" 替换为您自己的网站名称
2. **游戏访问地址**：将 "game.ikongzhong.cn" 替换为您自己的域名（不需要带 http://）
3. **微信关注链接**：将原始微信链接替换为您自己的微信公众号关注链接
4. **微信号**：将 "mkongzhong" 替换为您自己的微信号
5. **微信头像图片**：替换游戏中的 weixin.jpg 图片文件（如果存在）

## 使用方法

### 步骤1：准备微信头像图片（可选）

如果您需要替换微信头像，请先准备好您的微信头像图片文件（建议使用 .jpg 格式）。

### 步骤2：运行脚本

双击运行 `批量替换游戏信息.bat` 文件。

### 步骤3：按提示输入信息

脚本会依次询问以下信息，请根据实际情况填写：

```
1. 游戏网站名称（替换'空中传媒'）: [输入您的网站名称]
2. 游戏访问地址（替换'game.ikongzhong.cn'，不要带http://）: [输入您的域名，如：mygame.com]
3. 微信关注链接（替换原始微信链接）: [输入您的微信公众号链接]
4. 微信号（替换'mkongzhong'）: [输入您的微信号]
5. 微信头像图片路径（可选，留空跳过）: [输入图片文件的完整路径，或留空跳过]
```

**注意事项：**
- 游戏访问地址不要包含 `http://` 或 `https://`，只输入域名即可（如：`mygame.com`）
- 如果某个信息不需要替换，直接按回车跳过
- 微信头像图片路径需要是完整的文件路径（如：`D:\images\weixin.jpg`）

### 步骤4：确认并执行

输入完所有信息后，脚本会显示替换配置摘要，确认无误后输入 `y` 开始执行。

## 替换范围

脚本会在以下类型的文件中查找并替换：
- HTML 文件（.html, .htm）
- JavaScript 文件（.js）
- CSS 文件（.css）
- JSON 文件（.json）
- 文本文件（.txt）
- XML 文件（.xml）

## 替换规则

1. **网站名称**：完全匹配替换 "空中传媒"
2. **域名**：会替换以下形式：
   - `http://game.ikongzhong.cn` → `http://您的域名`
   - `https://game.ikongzhong.cn` → `https://您的域名`
   - `game.ikongzhong.cn`（单独出现）→ `您的域名`
3. **微信链接**：完全匹配替换原始链接
4. **微信号**：使用单词边界匹配，避免误替换
5. **微信头像**：在以下位置查找并替换：
   - `index/img/weixin.jpg`
   - `img/weixin.jpg`
   - `images/weixin.jpg`
   - `res/weixin.jpg`
   - `resources/weixin.jpg`

## 执行结果

脚本执行完成后会显示：
- 处理的游戏数量
- 修改的文件数量
- 执行的文本替换次数
- 替换的微信头像图片数量

## 备份说明

- 微信头像图片替换前会自动备份为 `.jpg.backup`
- 文本文件会直接修改，建议在执行前备份整个 `public/games` 文件夹

## 注意事项

1. **执行前备份**：建议在执行脚本前备份 `public/games` 文件夹
2. **测试建议**：可以先在少量游戏上测试，确认无误后再批量执行
3. **编码问题**：脚本使用 UTF-8 编码处理文件，如果遇到编码错误会自动忽略
4. **执行时间**：处理431个游戏可能需要几分钟时间，请耐心等待

## 故障排除

如果遇到问题：
1. 检查 Python 是否已安装
2. 检查游戏文件夹路径是否正确
3. 检查文件权限是否足够
4. 查看错误信息，根据提示解决问题
